Menu="Dashboard"
Icon="server"
---
<?php
require_once("/usr/local/emhttp/plugins/docker.folder/include/loadlist_edit.php");
require_once("/usr/local/emhttp/plugins/docker.folder/include/common.php");
?>

<script>

(async () => {
    folders = await read_folders()
})();

async function apply_folder() {
    let folderNames = Object.keys(await folders)
    
    for (const folderName of folderNames) {
        docker_hide(folderName, "dashboard")

        let folderId = folders[folderName]['id']
        edit_folder_base(folderName, folderId)
        edit_folder_extra(folderName, folderId)
    }
}

function edit_folder_extra(folderName, folderId) {
    // add docker-folder-parent-
    $(`#${folderId}`).parent().addClass(`docker-folder-parent-${folderName}`)

    // remove blue-text from docker folder
    $(`.docker-folder-parent-${folderName}`).find('.inner > .blue-text').removeClass('blue-text')
}

</script>